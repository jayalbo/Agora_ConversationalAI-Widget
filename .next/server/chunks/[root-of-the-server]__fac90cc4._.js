module.exports=[93695,(e,t,r)=>{t.exports=e.x("next/dist/shared/lib/no-fallback-error.external.js",()=>require("next/dist/shared/lib/no-fallback-error.external.js"))},32319,(e,t,r)=>{t.exports=e.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},24725,(e,t,r)=>{t.exports=e.x("next/dist/server/app-render/after-task-async-storage.external.js",()=>require("next/dist/server/app-render/after-task-async-storage.external.js"))},18622,(e,t,r)=>{t.exports=e.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},56704,(e,t,r)=>{t.exports=e.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},70406,(e,t,r)=>{t.exports=e.x("next/dist/compiled/@opentelemetry/api",()=>require("next/dist/compiled/@opentelemetry/api"))},2384,e=>{"use strict";var t=e.i(47909),r=e.i(74017),a=e.i(96250),i=e.i(59756),n=e.i(61916),o=e.i(14444),s=e.i(37092),l=e.i(69741),c=e.i(16795),d=e.i(87718),u=e.i(95169),p=e.i(47587),h=e.i(66012),m=e.i(70101),g=e.i(26937),f=e.i(10372),v=e.i(93695);e.i(52474);var w=e.i(220),y=e.i(89171);async function x(){return{id:"1",name:"Sony WH-1000XM5 Wireless Noise Cancelling Headphones",price:399.99,originalPrice:449.99,discount:11,rating:4.7,reviewCount:2847,inStock:!0,description:"Industry-leading noise cancellation with Dual Noise Sensor technology. Premium sound quality with LDAC codec support. Up to 30-hour battery life with quick charge. Comfortable design with soft pressure-relieving ear pads.",specifications:{"Noise Cancellation":"Industry-leading with Dual Noise Sensor","Battery Life":"Up to 30 hours","Quick Charge":"3 min charge = 3 hours playback",Connectivity:"Bluetooth 5.2, NFC, 3.5mm jack",Weight:"250g",Color:"Black, Silver, Blue"},images:["https://images.unsplash.com/photo-1505740420928-5e560c06d30e?w=800","https://images.unsplash.com/photo-1484704849700-f032a568e944?w=800","https://images.unsplash.com/photo-1572569511254-d8f925fe2cbb?w=800"],reviews:[{id:1,userName:"Sarah M.",rating:5,date:"2024-01-15",title:"Best headphones I've ever owned!",comment:"The noise cancellation is incredible. I can barely hear anything when these are on. Sound quality is amazing and the battery lasts forever. Worth every penny!",verified:!0},{id:2,userName:"Michael T.",rating:5,date:"2024-01-10",title:"Perfect for travel",comment:"Used these on a 12-hour flight and they were a game changer. Comfortable for long periods and the noise cancellation made the flight so much better.",verified:!0},{id:3,userName:"Jessica L.",rating:4,date:"2024-01-08",title:"Great sound, minor comfort issue",comment:"Sound quality is excellent and noise cancellation works well. Only complaint is they can get a bit warm after wearing for several hours, but overall very satisfied.",verified:!0},{id:4,userName:"David K.",rating:5,date:"2024-01-05",title:"Worth the investment",comment:"I was hesitant about the price, but these are absolutely worth it. The build quality is premium and they sound incredible. Battery life is as advertised.",verified:!0},{id:5,userName:"Emily R.",rating:4,date:"2024-01-03",title:"Excellent but pricey",comment:"These are fantastic headphones with great features. The only reason I'm giving 4 stars is the price point, but if you can afford them, they're top tier.",verified:!0},{id:6,userName:"Robert P.",rating:5,date:"2023-12-28",title:"Outstanding quality",comment:"The sound clarity is unmatched. I use these for both music and calls, and the microphone quality is excellent. The touch controls are intuitive and responsive.",verified:!0},{id:7,userName:"Lisa W.",rating:4,date:"2023-12-25",title:"Great for work from home",comment:"Perfect for video calls and blocking out background noise. The comfort is good for all-day wear. Only wish the case was a bit smaller for travel.",verified:!0}]}}async function R(){try{let e=await x(),t={context:`You are a helpful shopping assistant for an e-commerce website. 
You can ONLY answer questions about this specific product:

Product: ${e.name}
Price: $${e.price} (Original: $${e.originalPrice}, Save ${e.discount}%)
Rating: ${e.rating}/5 stars (${e.reviewCount} reviews)
Stock Status: ${e.inStock?"In Stock":"Out of Stock"}
Description: ${e.description}

Specifications:
${Object.entries(e.specifications).map(([e,t])=>`- ${e}: ${t}`).join("\n")}

Recent Customer Reviews:
${e.reviews.slice(0,5).map(e=>`â€¢ ${e.userName} (${e.rating}/5 stars): "${e.title}" - ${e.comment}`).join("\n\n")}

IMPORTANT RULES:
1. ONLY answer questions about this product, its features, reviews, pricing, specifications, or related shopping questions
2. If asked about unrelated topics (cooking, baking, recipes, weather, sports, politics, general knowledge, other products), politely redirect: "I'm here to help you with this product. Would you like to know about its features, reviews, or specifications?"
3. Be helpful, friendly, and concise
4. Reference specific reviews when relevant to answer questions
5. If asked about availability, mention it's ${e.inStock?"currently in stock":"currently out of stock"}
6. Help with purchase decisions by comparing features, mentioning reviews, and highlighting value
7. Keep responses focused and product-related`,productId:e.id,productName:e.name};return console.log(`
[GET] /api/agora/product-context`),console.log("Response:",JSON.stringify(t,null,2)),y.NextResponse.json(t)}catch(e){return y.NextResponse.json({error:"Failed to generate context"},{status:500})}}e.s(["GET",()=>R],44042);var b=e.i(44042);let C=new t.AppRouteRouteModule({definition:{kind:r.RouteKind.APP_ROUTE,page:"/api/agora/product-context/route",pathname:"/api/agora/product-context",filename:"route",bundlePath:""},distDir:".next",relativeProjectDir:"",resolvedPagePath:"[project]/app/api/agora/product-context/route.ts",nextConfigOutput:"",userland:b}),{workAsyncStorage:E,workUnitAsyncStorage:k,serverHooks:N}=C;function S(){return(0,a.patchFetch)({workAsyncStorage:E,workUnitAsyncStorage:k})}async function T(e,t,a){C.isDev&&(0,i.addRequestMeta)(e,"devRequestTimingInternalsEnd",process.hrtime.bigint());let y="/api/agora/product-context/route";y=y.replace(/\/index$/,"")||"/";let x=await C.prepare(e,t,{srcPage:y,multiZoneDraftMode:!1});if(!x)return t.statusCode=400,t.end("Bad Request"),null==a.waitUntil||a.waitUntil.call(a,Promise.resolve()),null;let{buildId:R,params:b,nextConfig:E,parsedUrl:k,isDraftMode:N,prerenderManifest:S,routerServerContext:T,isOnDemandRevalidate:P,revalidateOnlyGenerated:q,resolvedPathname:A,clientReferenceManifest:O,serverActionsManifest:I}=x,$=(0,l.normalizeAppPath)(y),j=!!(S.dynamicRoutes[$]||S.routes[A]),H=async()=>((null==T?void 0:T.render404)?await T.render404(e,t,k,!1):t.end("This page could not be found"),null);if(j&&!N){let e=!!S.routes[A],t=S.dynamicRoutes[$];if(t&&!1===t.fallback&&!e){if(E.experimental.adapterPath)return await H();throw new v.NoFallbackError}}let M=null;!j||C.isDev||N||(M="/index"===(M=A)?"/":M);let U=!0===C.isDev||!j,_=j&&!U;I&&O&&(0,o.setReferenceManifestsSingleton)({page:y,clientReferenceManifest:O,serverActionsManifest:I,serverModuleMap:(0,s.createServerModuleMap)({serverActionsManifest:I})});let D=e.method||"GET",B=(0,n.getTracer)(),L=B.getActiveScopeSpan(),F={params:b,prerenderManifest:S,renderOpts:{experimental:{authInterrupts:!!E.experimental.authInterrupts},cacheComponents:!!E.cacheComponents,supportsDynamicResponse:U,incrementalCache:(0,i.getRequestMeta)(e,"incrementalCache"),cacheLifeProfiles:E.cacheLife,waitUntil:a.waitUntil,onClose:e=>{t.on("close",e)},onAfterTaskError:void 0,onInstrumentationRequestError:(t,r,a)=>C.onRequestError(e,t,a,T)},sharedContext:{buildId:R}},K=new c.NodeNextRequest(e),W=new c.NodeNextResponse(t),G=d.NextRequestAdapter.fromNodeNextRequest(K,(0,d.signalFromNodeResponse)(t));try{let o=async e=>C.handle(G,F).finally(()=>{if(!e)return;e.setAttributes({"http.status_code":t.statusCode,"next.rsc":!1});let r=B.getRootSpanAttributes();if(!r)return;if(r.get("next.span_type")!==u.BaseServerSpan.handleRequest)return void console.warn(`Unexpected root span type '${r.get("next.span_type")}'. Please report this Next.js issue https://github.com/vercel/next.js`);let a=r.get("next.route");if(a){let t=`${D} ${a}`;e.setAttributes({"next.route":a,"http.route":a,"next.span_name":t}),e.updateName(t)}else e.updateName(`${D} ${y}`)}),s=!!(0,i.getRequestMeta)(e,"minimalMode"),l=async i=>{var n,l;let c=async({previousCacheEntry:r})=>{try{if(!s&&P&&q&&!r)return t.statusCode=404,t.setHeader("x-nextjs-cache","REVALIDATED"),t.end("This page could not be found"),null;let n=await o(i);e.fetchMetrics=F.renderOpts.fetchMetrics;let l=F.renderOpts.pendingWaitUntil;l&&a.waitUntil&&(a.waitUntil(l),l=void 0);let c=F.renderOpts.collectedTags;if(!j)return await (0,h.sendResponse)(K,W,n,F.renderOpts.pendingWaitUntil),null;{let e=await n.blob(),t=(0,m.toNodeOutgoingHttpHeaders)(n.headers);c&&(t[f.NEXT_CACHE_TAGS_HEADER]=c),!t["content-type"]&&e.type&&(t["content-type"]=e.type);let r=void 0!==F.renderOpts.collectedRevalidate&&!(F.renderOpts.collectedRevalidate>=f.INFINITE_CACHE)&&F.renderOpts.collectedRevalidate,a=void 0===F.renderOpts.collectedExpire||F.renderOpts.collectedExpire>=f.INFINITE_CACHE?void 0:F.renderOpts.collectedExpire;return{value:{kind:w.CachedRouteKind.APP_ROUTE,status:n.status,body:Buffer.from(await e.arrayBuffer()),headers:t},cacheControl:{revalidate:r,expire:a}}}}catch(t){throw(null==r?void 0:r.isStale)&&await C.onRequestError(e,t,{routerKind:"App Router",routePath:y,routeType:"route",revalidateReason:(0,p.getRevalidateReason)({isStaticGeneration:_,isOnDemandRevalidate:P})},T),t}},d=await C.handleResponse({req:e,nextConfig:E,cacheKey:M,routeKind:r.RouteKind.APP_ROUTE,isFallback:!1,prerenderManifest:S,isRoutePPREnabled:!1,isOnDemandRevalidate:P,revalidateOnlyGenerated:q,responseGenerator:c,waitUntil:a.waitUntil,isMinimalMode:s});if(!j)return null;if((null==d||null==(n=d.value)?void 0:n.kind)!==w.CachedRouteKind.APP_ROUTE)throw Object.defineProperty(Error(`Invariant: app-route received invalid cache entry ${null==d||null==(l=d.value)?void 0:l.kind}`),"__NEXT_ERROR_CODE",{value:"E701",enumerable:!1,configurable:!0});s||t.setHeader("x-nextjs-cache",P?"REVALIDATED":d.isMiss?"MISS":d.isStale?"STALE":"HIT"),N&&t.setHeader("Cache-Control","private, no-cache, no-store, max-age=0, must-revalidate");let u=(0,m.fromNodeOutgoingHttpHeaders)(d.value.headers);return s&&j||u.delete(f.NEXT_CACHE_TAGS_HEADER),!d.cacheControl||t.getHeader("Cache-Control")||u.get("Cache-Control")||u.set("Cache-Control",(0,g.getCacheControlHeader)(d.cacheControl)),await (0,h.sendResponse)(K,W,new Response(d.value.body,{headers:u,status:d.value.status||200})),null};L?await l(L):await B.withPropagatedContext(e.headers,()=>B.trace(u.BaseServerSpan.handleRequest,{spanName:`${D} ${y}`,kind:n.SpanKind.SERVER,attributes:{"http.method":D,"http.target":e.url}},l))}catch(t){if(t instanceof v.NoFallbackError||await C.onRequestError(e,t,{routerKind:"App Router",routePath:$,routeType:"route",revalidateReason:(0,p.getRevalidateReason)({isStaticGeneration:_,isOnDemandRevalidate:P})}),j)throw t;return await (0,h.sendResponse)(K,W,new Response(null,{status:500})),null}}e.s(["handler",()=>T,"patchFetch",()=>S,"routeModule",()=>C,"serverHooks",()=>N,"workAsyncStorage",()=>E,"workUnitAsyncStorage",()=>k],2384)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__fac90cc4._.js.map